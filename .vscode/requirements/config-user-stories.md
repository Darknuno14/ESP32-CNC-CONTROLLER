### 6.4 Konfiguracja Urządzenia (`config.html`)

Strona ta umożliwia parametryzację i konfigurację różnych aspektów działania maszyny.


| ID Wymagania | Funkcjonalność                               | Historyjka Użytkownika (User Story)                                                                                                                                                             | Kryteria Akceptacji (Acceptance Criteria)                                                                                                                                                                                                                                                                                             |
| :----------- | :------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| C01          | Podgląd statusu karty SD                     | **Jako** użytkownik, **chcę** widzieć aktualny status karty SD na stronie konfiguracji, **aby** upewnić się, że konfiguracja może być prawidłowo zapisana i odczytana z karty.                      | <ul><li>Strona konfiguracji wyświetla czytelny status karty SD (np. "Karta SD: Gotowa", "Karta SD: Brak", "Karta SD: Błąd").</li><li>Status jest aktualizowany dynamicznie w czasie rzeczywistym.</li></ul>                                                                                                                             |
| C02          | Reinicjalizacja karty SD                     | **Jako** użytkownik, **chcę** mieć możliwość ponownej inicjalizacji karty SD ze strony konfiguracji, **aby** móc aktywować kartę po włożeniu lub naprawić błędy bez restartu urządzenia.            | <ul><li>Na stronie konfiguracji dostępny jest przycisk "Re-initialize SD" (lub "Zainicjalizuj ponownie kartę SD").</li><li>Po kliknięciu przycisku, kontroler próbuje ponownie zainicjalizować kartę SD.</li><li>Status karty SD jest aktualizowany po operacji.</li></ul>                                                                        |
| C03          | Wczytywanie konfiguracji                     | **Jako** użytkownik, **chcę** móc wczytać aktualną konfigurację maszyny do formularza, **aby** zobaczyć obecne ustawienia i móc je modyfikować.                                                    | <ul><li>Dostępny jest przycisk "Load Configuration" (lub "Wczytaj Konfigurację").</li><li>Po kliknięciu, wszystkie pola formularza są wypełniane aktualnymi wartościami z kontrolera.</li><li>Podczas wczytywania wyświetlany jest wskaźnik ładowania.</li><li>W przypadku błędu wyświetlany jest komunikat o niepowodzeniu.</li></ul>                                |
| C04          | Konfiguracja osi X                           | **Jako** użytkownik, **chcę** móc skonfigurować parametry osi X (kroki na milimetr, prędkości, przyspieszenia), **aby** dostosować ruch maszyny do charakterystyki napędu osi X.                   | <ul><li>Formularz zawiera sekcję "X Axis Configuration" (lub "Konfiguracja Osi X") z polami: Steps per Millimeter (Kroki na milimetr), Work Feed Rate (Prędkość robocza), Work Acceleration (Przyspieszenie robocze), Rapid Feed Rate (Prędkość szybka), Rapid Acceleration (Przyspieszenie szybkie).</li><li>Wszystkie pola mają odpowiednie walidacje (np. liczby dodatnie, wymagane).</li><li>Pola mają pomocnicze opisy wyjaśniające przeznaczenie każdego parametru i ewentualne jednostki.</li></ul> |
| C05          | Konfiguracja osi Y                           | **Jako** użytkownik, **chcę** móc skonfigurować parametry osi Y (kroki na milimetr, prędkości, przyspieszenia), **aby** dostosować ruch maszyny do charakterystyki napędu osi Y.                   | <ul><li>Formularz zawiera sekcję "Y Axis Configuration" (lub "Konfiguracja Osi Y") z polami: Steps per Millimeter (Kroki na milimetr), Work Feed Rate (Prędkość robocza), Work Acceleration (Przyspieszenie robocze), Rapid Feed Rate (Prędkość szybka), Rapid Acceleration (Przyspieszenie szybkie).</li><li>Wszystkie pola mają odpowiednie walidacje (np. liczby dodatnie, wymagane).</li><li>Pola mają pomocnicze opisy wyjaśniające przeznaczenie każdego parametru i ewentualne jednostki.</li></ul> |
| C06          | Konfiguracja offsetów pozycji początkowej      | **Jako** użytkownik, **chcę** móc ustawić przesunięcia początkowe dla osi X i Y, **aby** zdefiniować pozycję startową przed wykonaniem G-code względem punktu bazowania.                           | <ul><li>Formularz zawiera sekcję "Konfiguracja pozycji początkowej" (lub "Start Position Offsets") z polami Offset osi X i Offset osi Y.</li><li>Pola akceptują wartości liczbowe (dodatnie, ujemne, zero).</li><li>Opisy wyjaśniają, że wartości określają przesunięcie początkowe od punktu bazowania (np. w mm).</li></ul>                                           |
| C07          | Konfiguracja operacyjna                      | **Jako** użytkownik, **chcę** móc skonfigurować parametry operacyjne (użycie feed rate z G-code, opóźnienie po starcie), **aby** dostosować zachowanie maszyny do specyficznych wymagań projektów.    | <ul><li>Dostępny jest przełącznik "Use G-Code Feed Rate" (lub "Użyj prędkości z G-code") do włączenia/wyłączenia używania prędkości z plików G-code.</li><li>Dostępne jest pole "Delay After Startup" (lub "Opóźnienie po starcie") do ustawienia opóźnienia (np. w sekundach) przed rozpoczęciem pracy.</li><li>Pola mają pomocnicze opisy wyjaśniające ich funkcję.</li></ul> |
| C08          | Konfiguracja mocy urządzeń                   | **Jako** użytkownik, **chcę** móc ustawić poziomy mocy dla drutu oporowego i wentylatora, **aby** kontrolować intensywność grzania i chłodzenia podczas pracy maszyny.                          | <ul><li>Formularz zawiera sekcję "Power Configuration" (lub "Konfiguracja Mocy") z polami Hot Wire Power (%) (Moc drutu oporowego) i Fan Power (%) (Moc wentylatora).</li><li>Pola akceptują wartości od 0 do 100% (np. z krokiem 0.1 lub 1).</li><li>Walidacja zapewnia, że wartości mieszczą się w zakresie 0-100%.</li></ul>                                   |
| C09          | Konfiguracja bezpieczeństwa                   | **Jako** użytkownik, **chcę** móc skonfigurować ustawienia bezpieczeństwa (wyłączenie E-STOP, krańcówek, typ krańcówek), **aby** dostosować system bezpieczeństwa do konkretnej instalacji lub potrzeb testowych. | <ul><li>Dostępne są przełączniki "Disable Emergency Stop" (Wyłącz E-STOP) i "Disable Limit Switches" (Wyłącz krańcówki) z wyraźnymi ostrzeżeniami o używaniu tylko do celów testowych i na własne ryzyko.</li><li>Dostępna jest lista wyboru "Limit Switch Type" (Typ krańcówek) z opcjami NO (Normally Open - Normalnie Otwarte) i NC (Normally Closed - Normalnie Zamknięte).</li><li>Ostrzeżenia bezpieczeństwa są wyróżnione wizualnie (np. czerwony tekst, ikona ostrzegawcza).</li></ul> |
| C10          | Zapisywanie konfiguracji                     | **Jako** użytkownik, **chcę** móc zapisać zmodyfikowaną konfigurację, **aby** zastosować nowe ustawienia w kontrolerze maszyny.                                                                  | <ul><li>Dostępny jest przycisk "Save Configuration" (lub "Zapisz Konfigurację").</li><li>Przed zapisem przeprowadzana jest walidacja wszystkich pól formularza (zgodnie z C11).</li><li>Podczas zapisywania wyświetlany jest wskaźnik ładowania.</li><li>Po pomyślnym zapisie wyświetlany jest komunikat o powodzeniu (np. tymczasowy).</li><li>W przypadku błędu zapisu wyświetlany jest komunikat o niepowodzeniu (pozostający do interakcji).</li><li>Przycisk "Save Configuration" jest nieaktywny, gdy maszyna jest w trakcie pracy (zgodnie z C12).</li></ul> |
| C11          | Walidacja danych wejściowych                 | **Jako** użytkownik, **chcę** otrzymywać informacje o błędach walidacji w czasie rzeczywistym lub przed próbą zapisu, **aby** móc poprawić nieprawidłowe wartości przed zapisaniem konfiguracji.       | <ul><li>Pola formularza z nieprawidłowymi wartościami są wizualnie oznaczone (np. czerwona ramka, ikona błędu) po próbie zapisu lub w trakcie wprowadzania danych (on-the-fly validation).</li><li>Komunikaty o błędach walidacji są wyświetlane w pobliżu odpowiednich pól lub w zbiorczym podsumowaniu.</li><li>Walidacja uruchamia się np. podczas wpisywania dla pól numerycznych (onInput) lub po utracie fokusa (onBlur) dla innych pól, oraz zawsze przed próbą zapisu.</li><li>Przycisk "Save Configuration" może być nieaktywny, jeśli występują błędy walidacyjne.</li></ul> |
| C12          | Blokada edycji podczas pracy maszyny         | **Jako** użytkownik, **chcę** aby system uniemożliwiał zapisywanie konfiguracji podczas gdy maszyna wykonuje zadanie, **aby** zapobiec nieprzewidzianym zmianom parametrów w trakcie pracy.              | <ul><li>Przycisk "Save Configuration" (oraz potencjalnie inne pola formularza) jest automatycznie wyłączany/blokowany (disabled), gdy maszyna jest w stanie aktywnym (np. RUNNING, HOMING, JOGGING).</li><li>Status maszyny jest monitorowany w czasie rzeczywistym przez interfejs webowy.</li><li>Przycisk/pola zostają ponownie aktywowane, gdy maszyna wraca do stanu bezczynności (np. IDLE).</li></ul> |